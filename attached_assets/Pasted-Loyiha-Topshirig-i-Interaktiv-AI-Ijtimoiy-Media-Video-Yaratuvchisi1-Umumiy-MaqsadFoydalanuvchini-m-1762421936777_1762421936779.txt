Loyiha Topshirig'i: Interaktiv AI Ijtimoiy Media Video Yaratuvchisi1. Umumiy MaqsadFoydalanuvchini mavzudan boshlab, yakuniy videoga qadar bosqichma-bosqich olib boruvchi veb-asoslangan, interaktiv video tahrirlovchi vositani yaratish. Maqsad - qisqa formatdagi ijtimoiy media videolarini (Instagram Reels, TikToks kabi) yaratish jarayonini AI yordamida soddalashtirish.Eng muhim talab: Foydalanuvchi AI tomonidan yaratilgan HAR BIR elementni (stsenariy, rasmlar, audio) yakuniy videoni render qilishdan oldin to'liq tahrirlash va nazorat qilish imkoniyatiga ega bo'lishi kerak.2. Backend Spetsifikatsiyasi (Majburiy)Backend barcha og'ir hisoblashlar, AI generatsiyasi va fayllarni qayta ishlash uchun mas'ul bo'ladi.Texnologiya: Python 3.10+Freymvork: FastAPIVideo Ishlov: MoviePy yoki ffmpeg-python kutubxonasiAI Modellar:Matn (Stsenariy, Rasm promptlari): Google Gemini API (Python SDK)Tasvir (Vizual): Google Imagen 3 yoki gemini-2.5-flash-image-preview modeliOvoz (TTS): Google Gemini TTS API (gemini-2.5-flash-preview-tts)API Endpoints (Majburiy)Quyidagi API endpoint'lar FastAPI'da yaratilishi shart:1. POST /api/generate/scriptSo'rov (Request): { "topic": "string" }Harakat: Gemini yordamida kiritilgan mavzu asosida video stsenariysini yaratadi. Stsenariyni jumlalarga (sahnalarga) bo'lib chiqadi.Javob (Response): { "script": ["1-jumla", "2-jumla", ...] }2. POST /api/generate/visualsSo'rov: { "script": ["1-jumla", "2-jumla", ...] }Harakat: Stsenariydagi har bir jumla uchun:Gemini yordamida batafsil rasm promptini yaratadi.O'sha prompt asosida Imagen/Flash modeli orqali tasvir generatsiya qiladi.Tasvirlarni vaqtincha saqlaydi (masalan, /temp papkasida).Javob: {"scenes": [{"script_line": "1-jumla", "image_url": "/temp/image1.jpg", "image_prompt": "batafsil prompt..."}, ...]}3. POST /api/regenerate/imageSo'rov: { "image_prompt": "string" } (Foydalanuvchi tomonidan tahrirlangan bo'lishi mumkin)Harakat: Berilgan prompt asosida yangi tasvir yaratadi.Javob: { "image_url": "/temp/new_image.jpg" }4. POST /api/upload/imageHarakat: Foydalanuvchi tomonidan yuklangan tasvirni qabul qiladi, saqlaydi va uning manzilini qaytaradi.Javob: { "image_url": "/uploads/user_image.jpg" }5. POST /api/generate/voiceoverSo'rov: { "script": ["1-jumla", "2-jumla", ...] }Harakat: Barcha stsenariy jumlalarini birlashtirib, Gemini TTS modeli yordamida yagona ovozli audio fayl (masalan, MP3 yoki WAV) yaratadi.Javob: { "audio_url": "/temp/voiceover.mp3" }6. POST /api/render/videoSo'rov: Yakuniy video strukturasini ifodalovchi JSON ob'ekti:{
  "scenes": [
    { "image_url": "/path/to/image1.jpg", "duration": 4.5 },
    { "image_url": "/path/to/image2.jpg", "duration": 5.1 }
  ],
  "voiceover_url": "/temp/voiceover.mp3",
  "music_url": "/music/inspirational.mp3",
  "music_volume": 0.3,
  "transition_effect": "crossfade"
}
Harakat: Eng asosiy endpoint. MoviePy yordamida:Barcha tasvirlarni (ImageClip) yuklaydi va ularga belgilangan davomiylikni o'rnatadi.Har bir tasvirga "Ken Burns" effekti (asta-sekin kattalashish/siljish) qo'llaydi.Kliplarni belgilangan o'tish effekti (transition) bilan birlashtiradi.Ovozli matn (voiceover_url) va fon musiqasini (music_url) AudioFileClip sifatida yuklaydi.Audio kliplarni aralashtiradi (musiqa ovozini pasaytirib).Yakuniy videoning audiosini ushbu aralashmaga o'rnatadi.Natijani yagona MP4 faylga yozadi.Javob: { "video_url": "/exports/final_video.mp4" }3. Frontend Spetsifikatsiyasi (Dasturchi Tanlovi)Frontend texnologiyasi dasturchining ixtiyorida (masalan, React, Vue, Svelte, Angular va h.k.). Biroq, foydalanuvchi interfeysi (UI) quyidagi aniq bosqichma-bosqich jarayonni (workflow) ta'minlashi shart:1-qadam: Mavzu KiritishOddiy matn kiritish maydoni (<input>) va "Boshlash" tugmasi.Tugma bosilganda /api/generate/script chaqiriladi.2-qadam: Stsenariy TahrirlashAI yaratgan stsenariyni ko'rsatuvchi katta matn maydoni (<textarea>) yoki har bir jumla uchun alohida tahrirlanadigan input'lar ro'yxati.Foydalanuvchi jumlalarni o'zgartirishi, qo'shishi yoki o'chirishi mumkin bo'lishi kerak."Vizual Tasvirlarni Yaratish" tugmasi /api/generate/visuals'ni chaqiradi.3-qadam: "Storyboard" TahrirlovchisiHar bir stsenariy jumlasi uchun alohida kartochkalar ("sahnalar") ko'rsatilishi kerak.Har bir kartochkada:Stsenariy jumlasi (o'zgarmas).AI yaratgan tasvir.AI yaratgan rasm prompti (tahrirlash mumkin bo'lgan <textarea>).Har bir kartochkada interaktiv tugmalar:"Qayta Yaratish": Tahrirlangan prompt bilan /api/regenerate/image'ni chaqiradi."Yuklash": Foydalanuvchi o'z rasmini yuklashi uchun /api/upload/image'ni chaqiradi.4-qadam: Audio Sozlamalari"Ovozli Matn Yaratish" tugmasi (yakuniy stsenariy bilan /api/generate/voiceover'ni chaqiradi).Fon musiqasini tanlash uchun ro'yxat (bir nechta oldindan tayyorlangan treklardan).Fon musiqasi balandligini sozlash uchun slayder (<input type="range">).5-qadam: Render va Yakuniy Video"Videoni Render Qilish" tugmasi. Bu tugma barcha ma'lumotlarni yig'ib, /api/render/video'ga yuboradi.Render jarayonida yuklanish indikatori (loader/progress bar) ko'rsatilishi kerak.Render tugagach, yakuniy video <video> pleyerda ko'rsatilishi va "Yuklab Olish" tugmasi faollashishi lozim.